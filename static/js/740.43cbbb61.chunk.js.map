{"version":3,"file":"static/js/740.43cbbb61.chunk.js","mappings":"mPAkEA,UA5De,WACb,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEMC,EAAQT,EAAaU,IAAI,UAE/BC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CACA,IAAMG,EAAW,mCAAG,oGAEhBN,GAAa,GAFG,UAGSO,EAAAA,EAAAA,IAAiBJ,GAH1B,OAGVK,EAHU,OAIhBV,EAAUU,GAJM,gDAMhBN,EAAS,KAAMO,SANC,yBAQhBT,GAAa,GARG,4EAAH,qDAWjBM,GAZkB,CAanB,GAAE,CAACH,IASJ,OACE,iCACE,0BACE,iBAAMO,SAVa,SAAAC,GACvBA,EAAIC,iBAEJ,IAAMC,EAAcF,EAAIG,OAAOC,iBAAiBC,MAChDrB,EAAgB,CAAEQ,MAAOU,GAC1B,EAKK,UACE,8BACE,kBAAOI,KAAK,OAAOC,KAAK,mBAAmBC,UAAQ,KACnD,mBAAQF,KAAK,SAAb,SAAsB,mBAI5B,+BACGlB,IAAa,SAAC,IAAD,IACbE,IAAS,SAAC,IAAD,CAAUQ,QAASR,IACjB,OAAXJ,GACCA,EAAOuB,KAAI,SAAAC,GAAK,OACd,SAAC,KAAD,CACEC,MAAO,CAAEC,KAAMhC,GACfiC,GAAE,kBAAaH,EAAMI,IAFvB,UAKE,wBAAKJ,EAAMK,SAFNL,EAAMI,GAJC,SAYzB,C,+IC9DDE,EAAAA,EAAAA,SAAAA,QAAyB,gCAEzB,IAAMC,EAAS,mCAEFC,EAAe,mCAAG,sGACNF,EAAAA,EAAAA,IAAA,qCAAwCC,IADlC,uBACrBE,EADqB,EACrBA,KACRC,QAAQC,IAAIF,EAAKG,SAFY,kBAGtBH,EAAKG,SAHiB,2CAAH,qDAMf1B,EAAgB,mCAAG,WAAMJ,GAAN,yFACPwB,EAAAA,EAAAA,IAAA,gCACIC,EADJ,kBACoBzB,IAFb,uBACtB2B,EADsB,EACtBA,KADsB,kBAIvBA,EAAKG,SAJkB,2CAAH,sDAOhBC,EAAe,mCAAG,WAAMC,GAAN,yFACNR,EAAAA,EAAAA,IAAA,gBAAmBQ,EAAnB,oBAAsCP,IADhC,uBACrBE,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,qD,0CCX5B,IANiB,SAAC,GAAe,IAAdrB,EAAa,EAAbA,QACf,OACI,cAAG2B,UAAU,QAAb,SAAsB3B,GAE7B,C,mDCaD,IAhBe,WACb,OACE,0BACE,SAAC,KAAD,CACE4B,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,iBACbC,OAAQ,CAAC,MAAO,QAAS,OAAQ,SAAU,SAAU,aAI5D,C","sources":["Pages/Movies.jsx","Services/Api.js","components/ErrorMsg/ErrorMsg.jsx","components/Loader/Loader.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { findMovieByQuery } from '../Services/Api';\nimport Loader from '../components/Loader/Loader';\nimport ErrorMsg from '../components/ErrorMsg/ErrorMsg';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) return;\n    const fetchMovies = async () => {\n      try {\n        setIsLoading(true);\n        const dataMovies = await findMovieByQuery(query);\n        setMovies(dataMovies);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [query]);\n\n  const handleFormSubmit = evt => {\n    evt.preventDefault();\n\n    const searchValue = evt.target.searchMovieTitle.value;\n    setSearchParams({ query: searchValue });\n  };\n\n  return (\n    <>\n      <div>\n        <form onSubmit={handleFormSubmit}>\n          <label>\n            <input type=\"text\" name=\"searchMovieTitle\" required />\n            <button type=\"submit\">Search</button>\n          </label>\n        </form>\n      </div>\n      <section>\n        {isLoading && <Loader />}\n        {error && <ErrorMsg message={error} />}\n        {movies !== null &&\n          movies.map(movie => (\n            <Link\n              state={{ from: location }}\n              to={`/movies/${movie.id}`}\n              key={movie.id}\n            >\n              <li>{movie.title}</li>\n            </Link>\n          ))}\n      </section>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst MY_KEY = '74e3875ddbdb3d01b8afddc4b578738c';\n\nexport const getMoviesTrends = async () => {\n  const { data } = await axios.get(`trending/movie/day?api_key=${MY_KEY}`);\n  console.log(data.results);\n  return data.results;\n};\n\nexport const findMovieByQuery = async query => {\n  const { data } = await axios.get(\n    `search/movie/?api_key=${MY_KEY}&query=${query}`\n  );\n  return data.results;\n};\n\nexport const getMovieDetails = async movieId => {\n  const { data } = await axios.get(`movie/${movieId}?api_key=${MY_KEY}`);\n  return data;\n};\n\nexport const getMovieCast = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}/credits?api_key=${MY_KEY}`\n  );\n  return data;\n};\nexport const getMovieReview = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}/reviews?api_key=${MY_KEY}`\n  );\n  return data;\n};\n","import React from 'react'\n\nconst ErrorMsg = ({message}) => {\n    return(\n        <p className=\"error\">{message}</p>\n    );\n};\n\nexport default ErrorMsg;","import React from 'react';\nimport { Vortex } from 'react-loader-spinner';\n\nconst Loader = () => {\n  return (\n    <div>\n      <Vortex\n        visible={true}\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"vortex-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"vortex-wrapper\"\n        colors={['red', 'green', 'blue', 'yellow', 'orange', 'purple']}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n"],"names":["location","useLocation","useSearchParams","searchParams","setSearchParams","useState","movies","setMovies","isLoading","setIsLoading","error","setError","query","get","useEffect","fetchMovies","findMovieByQuery","dataMovies","message","onSubmit","evt","preventDefault","searchValue","target","searchMovieTitle","value","type","name","required","map","movie","state","from","to","id","title","axios","MY_KEY","getMoviesTrends","data","console","log","results","getMovieDetails","movieId","className","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors"],"sourceRoot":""}